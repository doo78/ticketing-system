{% extends "base.html" %}

{% block extra_imports %}
<style>
    .accordion-button:not(.collapsed) {
        background-color: rgba(57, 17, 100, 0.1);
        color: #391164;
    }
    .accordion-button:focus {
        border-color: rgba(57, 17, 100, 0.25);
        box-shadow: 0 0 0 0.25rem rgba(57, 17, 100, 0.25);
    }
    .faq-search {
        max-width: 600px;
        margin: 0 auto 2rem;
    }
    .faq-search .form-control:focus {
        border-color: rgba(57, 17, 100, 0.25);
        box-shadow: 0 0 0 0.25rem rgba(57, 17, 100, 0.25);
    }
    .faq-search .btn {
        background-color: #391164;
        border-color: #391164;
    }
    .faq-category {
        margin-bottom: 2rem;
    }
    .faq-category-title {
        color: #391164;
        border-bottom: 2px solid #391164;
        padding-bottom: 0.5rem;
        margin-bottom: 1.5rem;
    }
</style>
{% endblock %}

{% block body %}
<div class="container py-5">
    <h1 class="mb-4 text-center" style="color: #391164;">Frequently Asked Questions</h1>
    
    <div class="faq-search">
        <div class="input-group mb-3">
            <input type="text" class="form-control" placeholder="Search FAQs..." aria-label="Search FAQs">
            <button class="btn btn-primary" type="button">Search</button>
        </div>
    </div>
    
    <div class="row mb-4">
        <div class="col text-center">
            <div class="btn-group" role="group" aria-label="FAQ Categories">
                <button type="button" class="btn btn-outline-secondary active">All</button>
            </div>
        </div>
    </div>
    
    <div class="faq-category">
        <h3 class="faq-category-title">Account Management</h3>
        <div class="accordion" id="accountAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="accountHeading1">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#accountCollapse1" aria-expanded="true" aria-controls="accountCollapse1">
                        How do I reset my university account password?
                    </button>
                </h2>
                <div id="accountCollapse1" class="accordion-collapse collapse show" aria-labelledby="accountHeading1" data-bs-parent="#accountAccordion">
                    <div class="accordion-body">
                        <p>You can reset your password through the university's self-service portal. Visit <strong>University Helpdesk</strong> and click on "Forgot Password." </p>
                        
                    </div>
                </div>
            </div>
            <div class="accordion-item">
                <h2 class="accordion-header" id="accountHeading2">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#accountCollapse2" aria-expanded="false" aria-controls="accountCollapse2">
                        I'm a new student/faculty member. How do I activate my account?
                    </button>
                </h2>
                <div id="accountCollapse2" class="accordion-collapse collapse" aria-labelledby="accountHeading2" data-bs-parent="#accountAccordion">
                    <div class="accordion-body">
                        <p>New students and faculty should create an account by clicking on <strong> Sign up <strong> on the homepage and then filling out the registration form.</p>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    
    <div class="alert alert-info mt-5">
        <div class="d-flex align-items-center">
            <i class="bi bi-info-circle-fill fs-4 me-3"></i>
            <div>
                <strong>Didn't find what you were looking for?</strong>
                <p class="mb-0">Submit a support ticket or contact our helpdesk directly at <strong>testingteamsk@gmail.com</strong>.</p>
            </div>
        </div>
    </div>
</div>

<script>
    // Simple search functionality for FAQ items
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.querySelector('.faq-search input');
        
        searchInput.addEventListener('keyup', function() {
            const searchText = this.value.toLowerCase();
            const accordionItems = document.querySelectorAll('.accordion-item');
            
            accordionItems.forEach(item => {
                const question = item.querySelector('.accordion-button').textContent.toLowerCase();
                const answer = item.querySelector('.accordion-body').textContent.toLowerCase();
                
                if (question.includes(searchText) || answer.includes(searchText)) {
                    item.style.display = 'block';
                } else {
                    item.style.display = 'none';
                }
            });
        });
        
        // Category filter buttons
        const categoryButtons = document.querySelectorAll('.btn-group .btn-outline-secondary');
        categoryButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Toggle active state
                categoryButtons.forEach(btn => btn.classList.remove('active'));
                this.classList.add('active');
                
                // Filter categories
                const category = this.textContent.toLowerCase();
                const faqCategories = document.querySelectorAll('.faq-category');
                
                if (category === 'all') {
                    faqCategories.forEach(cat => cat.style.display = 'block');
                } else {
                    faqCategories.forEach(cat => {
                        const categoryTitle = cat.querySelector('.faq-category-title').textContent.toLowerCase();
                        if (categoryTitle.includes(category)) {
                            cat.style.display = 'block';
                        } else {
                            cat.style.display = 'none';
                        }
                    });
                }
            });
        });
    });
</script>
{% endblock %}